<div class="modal-backdrop" *ngIf="visible">
  <div class="modal" role="dialog" aria-modal="true" tabindex="0" (keydown.esc)="onEsc()" style="position:relative;">
    <button class="modal-close" (click)="onCancel()" aria-label="Fermer la modale"></button>
    <div tabindex="0" (focus)="focusLast()"></div>
    <h3 id="modal-title">Validation de la demande</h3>
    <div aria-live="polite" aria-atomic="true" class="sr-only" *ngIf="liveMessage">{{ liveMessage }}</div>
    <textarea [(ngModel)]="comment" placeholder="Commentaire (optionnel)" #commentBox aria-label="Commentaire" (keydown.enter)="onEnter($event)" tabindex="1"></textarea>
    <div class="modal-actions">
      <button class="btn btn-primary" (click)="onConfirmApprove()" aria-label="Confirmer la validation" tabindex="2">✅ Confirmer la validation</button>
      <button class="btn btn-secondary" (click)="onConfirmReject()" aria-label="Confirmer le rejet" tabindex="3">❌ Confirmer le rejet</button>
      <button class="btn btn-outline" (click)="onCancel()" aria-label="Annuler" tabindex="4">✖ Annuler</button>
    </div>
    <div tabindex="0" (focus)="focusFirst()"></div>
  </div>
</div>
